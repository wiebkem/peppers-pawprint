<div class="row">
  <div class="col-xs-12 col-sm-8 col-md-9">
    <div class="row">
      {{- $pages := .Pages -}}
      {{- if .IsHome -}}
        {{- $pages = where .Site.RegularPages "Type" "blog" -}}
      {{- end -}}
      {{- $paginator := .Paginate $pages -}}
      
      {{ range first 1 $paginator.Pages -}}
      <div class="col-xs-12 col-sm-12 col-md-12 first-entry">
        {{ partial "blogpost-listitem.html" . }}
      </div>
      {{ end }}

      {{ range (after 1 $paginator.Pages) -}}
      <div class="col-xs-12 col-sm-12 col-md-6">
        {{ partial "blogpost-listitem.html" . }}
      </div>
      {{ end }}
    </div>

    {{ partial "pagination.html" . }}
  </div>

  <div class="col-xs-12 col-sm-4 col-md-3">
    <div class="sidebar-widget">
      <h2 class="widget-title">{{ i18n "categories" }}</h2>
      <div class="tagcloud categories">
        {{ range .Site.Taxonomies.categories }}
          <a href="{{ .Page.Permalink }}">{{ .Page.Title }} ({{ .Count }})</a>
        {{ end }}
      </div>
    </div>
    
    <div class="sidebar-widget">
      <h5 class="widget-title">{{ i18n "tags" }}</h5>
      <div class="tagcloud tags clearfix">
        {{ range .Site.Taxonomies.tags }}
        <a class="ghost-button" href="{{ .Page.Permalink }}">{{ .Page.Title }} ({{ .Count }})</a>
        {{ end }}
      </div>
    </div>    
  </div>
</div>
